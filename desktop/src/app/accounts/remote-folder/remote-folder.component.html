<h3>Which remote folder do you want to sync?</h3>

<div class="clearfix">&nbsp;</div>

<hr>
<div class="alert alert-info" *ngIf="sites && sites.length == 0 && soSiteData === false">
  <img src="./assets/imgs/spinner.gif" alt=""> Loading data...
</div>

<div class="alert alert-danger" *ngIf="sites && sites.length == 0 && soSiteData === true">
  No Department(s) Found
</div>

<div class="mb-5">
  <button type="button" class="btn btn-danger" (click)="goBack()">
    <i class="fas fa-chevron-circle-left"></i>
    Cancel
  </button>
  <button type="button" class="btn btn-success float-right" (click)="finalize()" [disabled]="disableFinish">

    <span *ngIf="isEdit === true">Update</span>
    <span *ngIf="isEdit === false">
      <i class="fas fa-check-circle"></i>
      Finish
    </span>
  </button>
</div>

<div *ngIf="sites && sites.length > 0">
  <h5>Select a Department</h5>
  <ul class="list-group">
    <li class="list-group-item">
      <label for="selectall">
        <input id="selectall" [disabled]="isLoading" [checked]="isSelectAllChecked" type="checkbox" class="mr-2"
          (click)="selectAll($event)" />
        <b>{{ isLoading ? 'Processing...' : 'Select All' }}</b>
      </label>
  </ul>

  <div class="list-container">
    <div *ngIf="isLoading" class="modal-loader">
      <div class="spinner">
        <img src="./assets/imgs/ajax-loader.gif">
      </div>
    </div>

    <div class="list-group" *ngFor="let site of sites">
      <a class="list-group-item list-group-item-action flex-column align-items-start">
        <label [for]="site.entry.guid">
          <input class="mr-2 site-checkbox" type="checkbox" [id]="site.entry.guid" [name]="site.entry.guid" [value]="site.entry.guid"
            [checked]="preSelectedSiteIdList.indexOf(site.entry.guid) !== -1" (click)="setSite($event, site.entry)">
          {{
          site.entry.title }}
        </label>
      </a>
    </div>

  </div>
</div>

<div class="mt-5">
  <button type="button" class="btn btn-danger" (click)="goBack()">
    <i class="fas fa-chevron-circle-left"></i>
    Cancel
  </button>
  <button type="button" class="btn btn-success float-right" (click)="finalize()" [disabled]="disableFinish">

    <span *ngIf="isEdit === true">Update</span>
    <span *ngIf="isEdit === false">
      <i class="fas fa-check-circle"></i>
      Finish
    </span>
  </button>
</div>